layersvt/device_simulation.cpp